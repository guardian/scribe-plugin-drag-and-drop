{"version":3,"sources":["./build/scribe-plugin-drag-and-drop.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","scribePluginContentCleaner","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"config","INDICATOR_CLASS","STYLE_CLASS","EVENT_NAME","INSERT_POSITIONS","filter","Array","prototype","forEach","removePreAndPost","bindableElements","els","document","getElementsByClassName","el","parentElement","removeChild","classed","dataset","pre","post","insertP","position","dropId","parent","p","createElement","classList","add","insertBefore","nextSibling","addWrappingPs","dropid","pos","dropOccurred","event","scribe","target","removeAttribute","remove","transactionManager","run","droppedUrl","dataTransfer","getData","textContent","customEvent","CustomEvent","detail","element","dispatchEvent","delegate","eventType","selector","callback","addEventListener","matches",2,"helpers","NODE_NAME","CURRENT_DROP_ID","undefined","isEmpty","childNodes","children","child","nodeName","cleanup","bindDropIds","index","on","preventDefault","./helpers"],"mappings":"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"}
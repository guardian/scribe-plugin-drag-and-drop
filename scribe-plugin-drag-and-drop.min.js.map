{"version":3,"sources":["./build/scribe-plugin-drag-and-drop.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","scribePluginContentCleaner","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"config","INDICATOR_CLASS","STYLE_CLASS","style_class","EVENT_NAME","INSERT_POSITIONS","filter","Array","prototype","forEach","removePreAndPost","bindableElements","els","document","getElementsByClassName","el","parentElement","removeChild","dataset","pre","post","isMarkerElement","classList","contains","hasPre","previousSibling","checkPreviousSibling","hasPost","nextSibling","checkNextSibling","insertP","position","dropId","parent","p","createElement","add","insertBefore","addWrappingPs","dropid","pos","dropOccurred","event","scribe","target","remove","transactionManager","run","droppedUrl","dataTransfer","getData","textContent","customEvent","CustomEvent","detail","element","dispatchEvent","delegate","eventType","selector","callback","addEventListener","matches",2,"helpers","NODE_NAME","CURRENT_DROP_ID","undefined","dragHandler","isEmpty","childNodes","firstChild","nodeName","children","child","cleanup","removeAttribute","bindDropIds","index","on","preventDefault","hover_class","./helpers"],"mappings":"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"}
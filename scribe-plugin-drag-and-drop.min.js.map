{"version":3,"sources":["./build/scribe-plugin-drag-and-drop.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","scribePluginContentCleaner","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"config","INDICATOR_CLASS","STYLE_CLASS","EVENT_NAME","INSERT_POSITIONS","filter","Array","prototype","forEach","removePreAndPost","bindableElements","els","document","getElementsByClassName","el","parentElement","removeChild","dataset","pre","post","checkDataset","pos","hasPreOrPost","checkPreviousSibling","previousSibling","checkNextSibling","nextSibling","insertP","position","dropId","parent","p","createElement","classList","add","insertBefore","addWrappingPs","dropid","dropOccurred","event","scribe","target","remove","transactionManager","run","droppedUrl","dataTransfer","getData","textContent","customEvent","CustomEvent","detail","element","dispatchEvent","delegate","eventType","selector","callback","addEventListener","matches",2,"helpers","NODE_NAME","CURRENT_DROP_ID","undefined","dragHandler","isEmpty","childNodes","children","child","nodeName","cleanup","removeAttribute","bindDropIds","index","on","preventDefault","./helpers"],"mappings":"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"}